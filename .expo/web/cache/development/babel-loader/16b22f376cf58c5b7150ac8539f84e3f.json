{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Documents\\\\Assign\\\\Lonk\\\\LinkUpApp\\\\app\\\\screens\\\\Login.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\n\nvar Login = function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _super.call(this);\n    _this.state = {\n      username: '',\n      password: '',\n      msg: '',\n      buttonDisabled: false,\n      isLoggedin: false\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"setInputValue\",\n    value: function setInputValue(property, val) {\n      console.log(val);\n\n      if (val.length > 50) {\n        return;\n      }\n\n      this.setState(_defineProperty({}, property, val));\n    }\n  }, {\n    key: \"doLogin\",\n    value: function doLogin() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function doLogin$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(fetch('https://localhost:5000/api/user/login', {\n                method: 'POST',\n                credentials: 'include',\n                headers: {\n                  'Accept': 'application/json',\n                  'Content-Type': 'application/json',\n                  'Access-Control-Allow-Origin': 'http://localhost:19006'\n                },\n                body: JSON.stringify({\n                  Username: this.state.username,\n                  Password: this.state.password\n                })\n              }).then(function (response) {\n                return response.json();\n              }).then(function (data) {\n                if (data.success) {\n                  console.log(_this2.state.username);\n                }\n\n                _this2.setState({\n                  message: data.msg\n                });\n              }));\n\n            case 3:\n              _context2.next = 8;\n              break;\n\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, [[0, 5]], Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var styles = StyleSheet.create({\n        background: {\n          justifyContent: \"flex-start\"\n        },\n        logo: {\n          width: 300,\n          height: 250,\n          position: 'absolute',\n          top: 30,\n          left: 55\n        }\n      });\n\n      if (isLoggedin) {\n        return React.createElement(MainPage, {\n          data: this.props,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"loginStyling\",\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }, React.createElement(ImageBackground, {\n        style: styles.background,\n        source: require(\"../assets/background.jpg\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }\n      }, React.createElement(Image, {\n        style: styles.logo,\n        source: require(\"../assets/logo.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 10\n        }\n      }))), React.createElement(\"div\", {\n        className: \"loginForm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 9\n        }\n      }, React.createElement(\"form\", {\n        className: \"login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }\n      }, React.createElement(\"h3\", {\n        className: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 14\n        }\n      }, \"Sign In\"), React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 14\n        }\n      }, React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 18\n        }\n      }, \"Username\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        placeholder: \"Enter username\",\n        onChange: function onChange(e) {\n          return _this3.setInputValue(\"username\", e.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 18\n        }\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 14\n        }\n      }, React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 18\n        }\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        placeholder: \"Enter password\",\n        onChange: function onChange(e) {\n          return _this3.setInputValue(\"password\", e.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 18\n        }\n      }), React.createElement(Button, {\n        variant: \"primary\",\n        block: true,\n        onPress: function onPress() {\n          return _this3.doLogin();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 18\n        }\n      }, \"Sign In\")), this.state.message ? React.createElement(\"div\", {\n        className: \"alert alert-danger text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 37\n        }\n      }, this.state.message) : '')));\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["E:/Documents/Assign/Lonk/LinkUpApp/app/screens/Login.js"],"names":["React","Component","Login","state","username","password","msg","buttonDisabled","isLoggedin","property","val","console","log","length","setState","fetch","method","credentials","headers","body","JSON","stringify","Username","Password","then","response","json","data","success","message","styles","StyleSheet","create","background","justifyContent","logo","width","height","position","top","left","props","container","require","e","setInputValue","target","value","doLogin"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';\r\nimport {Text, Alert, Button, Image, ImageBackground, SafeAreaView, StyleSheet, TouchableHighlight, View, TextInput } from 'react-native';\r\n\r\nclass Login extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      msg: '',\r\n      buttonDisabled: false,\r\n      isLoggedin: false,\r\n    }\r\n  }\r\n  async componentDidMount() {\r\n  }\r\n  setInputValue(property, val) {\r\n    console.log(val);\r\n    if (val.length > 50) {\r\n      return;\r\n    }\r\n    this.setState({\r\n      [property]: val\r\n    })\r\n  }\r\n\r\n  async doLogin(){\r\n    try{\r\n      await fetch('https://localhost:5000/api/user/login', {\r\n          method: 'POST',\r\n          credentials: 'include',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Access-Control-Allow-Origin': 'http://localhost:19006',\r\n          },\r\n          body: JSON.stringify({\r\n            Username: this.state.username,\r\n            Password: this.state.password\r\n          })}).then(response => response.json()).then((data) => {\r\n            if(data.success){\r\n              console.log(this.state.username);\r\n            }\r\n            this.setState({message: data.msg});\r\n          });\r\n\r\n    }\r\n    catch(e){\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const styles = StyleSheet.create({\r\n      background: {\r\n          justifyContent: \"flex-start\",\r\n      },\r\n      logo: {\r\n        width:300,\r\n        height:250,\r\n        position: 'absolute',\r\n        top: 30,\r\n        left: 55,\r\n\r\n    },\r\n    });\r\n\r\n    if(isLoggedin){\r\n      return(\r\n        <MainPage data={this.props}/>\r\n      )\r\n    }\r\n\r\n    return(\r\n      <div className=\"loginStyling\" style={styles.container}>\r\n      <View style={styles.container}>\r\n      <ImageBackground\r\n      style={styles.background}\r\n      source={require('../assets/background.jpg')}\r\n      >\r\n         <Image style={styles.logo} source={require('../assets/logo.png')} />\r\n      </ImageBackground>\r\n      </View>\r\n\r\n        <div className=\"loginForm\">\r\n          <form className=\"login\">\r\n             <h3 className=\"header\">Sign In</h3>\r\n             <div className=\"form-group\">\r\n                 <h6>Username</h6>\r\n                 <input type=\"text\" className=\"form-control\" placeholder=\"Enter username\" onChange = {e => this.setInputValue(\"username\", e.target.value)}/>\r\n             </div>\r\n             <div className=\"form-group\">\r\n                 <h6>Password</h6>\r\n                 <input type=\"password\" className=\"form-control\" placeholder=\"Enter password\" onChange = {e => this.setInputValue(\"password\", e.target.value)}/>\r\n                 <Button variant=\"primary\" block onPress = {() => this.doLogin()}>Sign In</Button>\r\n             </div>\r\n             {\r\n               this.state.message ? <div className=\"alert alert-danger text-center\">{this.state.message}</div> : ''\r\n             }\r\n         </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}